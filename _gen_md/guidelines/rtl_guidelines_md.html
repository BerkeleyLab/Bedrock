<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>guidelines rtl_guidelines &mdash; Bedrock  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="i2cbridge README" href="../peripheral_drivers/i2cbridge/README_md.html" />
    <link rel="prev" title="xilinx README" href="../fpga_family/xilinx/README_md.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Bedrock
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../general-docs.html">General Docs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../general-docs.html#docs">Docs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../CONTRIBUTING_md.html">CONTRIBUTING</a></li>
<li class="toctree-l3"><a class="reference internal" href="../badger/README_md.html">badger README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../badger/doc/README_md.html">doc README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../badger/mem_gate_md.html">badger mem_gate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../badger/status_md.html">badger status</a></li>
<li class="toctree-l3"><a class="reference internal" href="../board_support/bmb7_kintex/README_md.html">bmb7_kintex README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../board_support/zest/README_md.html">zest README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build-tools/cdc_snitch_md.html">build-tools cdc_snitch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build-tools/makefile_md.html">build-tools makefile</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build-tools/newad_md.html">build-tools newad</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dsp/README_md.html">dsp README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fpga_family/xilinx/README_md.html">xilinx README</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">guidelines rtl_guidelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#rtl-coding-guidelines">RTL Coding Guidelines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../peripheral_drivers/i2cbridge/README_md.html">i2cbridge README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../peripheral_drivers/idelay_scanner/README_md.html">idelay_scanner README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/common/README_md.html">common README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/comms_top/README_md.html">comms_top README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/oscope/bmb7_cu/README_md.html">bmb7_cu README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/oscope/marble_family/README_md.html">marble_family README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/test_marble_family/README_md.html">test_marble_family README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../projects/test_marble_family/i2c/README_md.html">i2c README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rtsim/README_md.html">rtsim README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serial_io/chitchat/README_md.html">chitchat README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../serial_io/chitchat/chitchat_txrx_wrap_md.html">chitchat chitchat_txrx_wrap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/picorv32/README_md.html">picorv32 README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/picorv32/test/badger_lwip/README_md.html">badger_lwip README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/picorv32/test/fv/README_md.html">fv README</a></li>
<li class="toctree-l3"><a class="reference internal" href="../soc/picorv32/test/lb_bridge/README_md.html">lb_bridge README</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../bedrock-modules.html">Bedrock Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rtsim-module.html">RTSIM Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dsp-digaree-module.html">DSP Digaree Module</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Bedrock</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../general-docs.html">General Docs</a></li>
      <li class="breadcrumb-item active">guidelines rtl_guidelines</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/_gen_md/guidelines/rtl_guidelines_md.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>This documentation is a work in progress.
Expect to see errors and unfinished things.</p>
</div>
<section id="guidelines-rtl-guidelines">
<span id="rtl-guidelines"></span><h1>guidelines rtl_guidelines<a class="headerlink" href="#guidelines-rtl-guidelines" title="Permalink to this heading"></a></h1>
<section id="rtl-coding-guidelines">
<h2>RTL Coding Guidelines<a class="headerlink" href="#rtl-coding-guidelines" title="Permalink to this heading"></a></h2>
<p>The following is a set of RTL coding guidelines with the purpose of maximizing the readability and maintainability
of the codebase, without being too restrictive or inconvenient. The goal is to achieve a consistent ‘look and feel’
across the several modules and subsystems, so long-term and new contributors alike can infer some of the
module’s functionality and, more importantly, its interface, without having to reverse-engineer the code. This will
hopefully promote contributions, facilitate code re-use and mitigate fragmentation.</p>
<p>These guidelines should be general enough such that they are not restricted to a specific Hardware Description Language, unless otherwise noted.</p>
<p>Each guideline is individually labeled so it can be easily referred to in the context of code reviews or issue creation.</p>
<section id="a-interfaces">
<h3>A - Interfaces<a class="headerlink" href="#a-interfaces" title="Permalink to this heading"></a></h3>
<section id="a-1-interface-signal-naming">
<h4>A.1 - Interface signal naming<a class="headerlink" href="#a-1-interface-signal-naming" title="Permalink to this heading"></a></h4>
<p>In the context of RTL modules, an interface is a collection of input/output signals that, when used together, implement
a protocol that allows for the transfer of data in one, or both, directions. These closely-related signals should, therefore,
share a common prefix that makes their relationship clear. This becomes even more important when the interface is associated
with a specific clock domain. E.g.: lb_clk, lb_valid, lb_rnw, lb_wdata, lb_rdata.</p>
</section>
<section id="a-2-keeping-interfaces-standard">
<h4>A.2 - Keeping interfaces standard<a class="headerlink" href="#a-2-keeping-interfaces-standard" title="Permalink to this heading"></a></h4>
<p>In order to promote interface re-use and facilitate module interoperability, custom interfaces and protocols should be avoided
whenever possible. Instead, conventional interface design patterns should be preferred, along with the use of traditional naming
for both control and data signals. E.g. lb_valid, lb_ready/lb_enable, lb_wdata, lb_wstb/lb_wmask.</p>
<p>Deviations from this recommendation should be accompanied by detailed documentation that goes beyond what is usually expected.</p>
</section>
</section>
<section id="b-signal-naming">
<h3>B - Signal naming<a class="headerlink" href="#b-signal-naming" title="Permalink to this heading"></a></h3>
<section id="b-1-registered-and-delayed-signals">
<h4>B.1 - Registered and Delayed signals<a class="headerlink" href="#b-1-registered-and-delayed-signals" title="Permalink to this heading"></a></h4>
<p>Registered or delayed versions of a signal should use the suffix ‘_r’ or ‘_d’. Where multiple delays are required,
a number should be appended to the suffix. E.g.: valid_r for single delay; valid_r1, valid_r2 etc. for multiple delays.</p>
</section>
<section id="b-2-internal-or-local-signals">
<h4>B.2 - Internal or Local signals<a class="headerlink" href="#b-2-internal-or-local-signals" title="Permalink to this heading"></a></h4>
<p>Internal or local signals that have no other purpose other than to create an internal version of a module’s port should
use the port name followed by the suffix ‘_l’ or ‘_i’.</p>
</section>
<section id="b-3-signal-case">
<h4>B.3 - Signal case<a class="headerlink" href="#b-3-signal-case" title="Permalink to this heading"></a></h4>
<p>All signal names should be lower-case and use snake-case, not camel-case. E.g.: valid_out, data_in.</p>
</section>
<section id="b-4-active-low-signals">
<h4>B.4 - Active-low signals<a class="headerlink" href="#b-4-active-low-signals" title="Permalink to this heading"></a></h4>
<p>Active-low signals should make use of the suffix _n. E.g.: reset_n, ce_n.</p>
</section>
</section>
<section id="c-module-declaration">
<h3>C - Module declaration<a class="headerlink" href="#c-module-declaration" title="Permalink to this heading"></a></h3>
<section id="c-1-parameter-naming">
<h4>C.1 - Parameter naming<a class="headerlink" href="#c-1-parameter-naming" title="Permalink to this heading"></a></h4>
<p>Parameters should be in all-caps, snake-case, and sufficiently descriptive so that no additional explanation is required.
Common abbreviations, such as ‘DWI’ and ‘AWI’ for ‘data width’ and ‘address width’, are acceptable, but anything
more obscure is best avoided.</p>
</section>
<section id="c-2-parameter-defaults">
<h4>C.2 - Parameter defaults<a class="headerlink" href="#c-2-parameter-defaults" title="Permalink to this heading"></a></h4>
<p>All parameters shall have reasonable defaults, such that if the module were to be simulated without any of its parameters
being overridden, it would perform its typical functionality.</p>
</section>
</section>
<section id="d-module-instantiation">
<h3>D - Module instantiation<a class="headerlink" href="#d-module-instantiation" title="Permalink to this heading"></a></h3>
<section id="d-1-instance-names">
<h4>D.1 - Instance names<a class="headerlink" href="#d-1-instance-names" title="Permalink to this heading"></a></h4>
<p>Module instance names should be prefixed by ‘<a href="#id1"><span class="problematic" id="id2">i_</span></a>’, include the module name, or an easily recognizable variant of it (in cases where the
full module name is too long), and an optional suffix that clarifies the purpose of the instance or disambiguates between
instances of the same module. E.g.: i_sqrt, i_mixer_field, i_shortfifo_lb.</p>
</section>
<section id="d-2-unconnected-ports">
<h4>D.2 - Unconnected ports<a class="headerlink" href="#d-2-unconnected-ports" title="Permalink to this heading"></a></h4>
<p>Unconnected output ports should never be omitted, but rather included in the module instantiation so it is obvious that they
have been intentionally left open. It is recommended that an inline comment is added to justify why the port is unused.</p>
</section>
<section id="d-3-port-and-parameter-assignment">
<h4>D.3 - Port and parameter assignment<a class="headerlink" href="#d-3-port-and-parameter-assignment" title="Permalink to this heading"></a></h4>
<p>All ports and parameters should always be connected by name. Unlike unconnected ports, however, it is reasonable to omit unused parameters.</p>
</section>
</section>
<section id="e-misc">
<h3>E - Misc<a class="headerlink" href="#e-misc" title="Permalink to this heading"></a></h3>
<section id="e-1-todos-and-unfinished-code">
<h4>E.1 - TODOs and unfinished code<a class="headerlink" href="#e-1-todos-and-unfinished-code" title="Permalink to this heading"></a></h4>
<p>TODOs and unfinished code are best avoided in checked-in code, but if they must be used they should be clearly marked with a ‘TODO’ tag. Alternative
tags should be avoided as they may more easily go unnoticed.</p>
</section>
<section id="e-2-comments">
<h4>E.2 - Comments<a class="headerlink" href="#e-2-comments" title="Permalink to this heading"></a></h4>
<p>In addition to being useful, clear and concise, comments should not include question marks, rhetorical questions or hypotheticals.</p>
</section>
<section id="e-3-precedence-rules">
<h4>E.3 - Precedence rules<a class="headerlink" href="#e-3-precedence-rules" title="Permalink to this heading"></a></h4>
<p>Non-obvious operator precedence rules should be avoided. Whenever precedences are not completely clear, parentheses should be used.</p>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../fpga_family/xilinx/README_md.html" class="btn btn-neutral float-left" title="xilinx README" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../peripheral_drivers/i2cbridge/README_md.html" class="btn btn-neutral float-right" title="i2cbridge README" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, LBNL ATG.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>