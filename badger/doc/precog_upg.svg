<svg xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   version="1.1"
   id="precog_upg" width="12.1in" height="6.36in"  viewBox="-6 -6 2326 1228">
<desc>
XCircuit Version 3.9
File "precog_upg.eps" Page 1
</desc>
<g stroke="black">
<path d="M624,502 L1008,886 1216,886 832,502 624,502 " fill="#e5e5e5" stroke-width="0" stroke-linejoin="bevel" stroke-linecap="round" stroke="#e5e5e5" />
<path d="M1072,502 L1456,886 1680,886 1296,502 1072,502 " fill="#e5e5e5" stroke-width="0" stroke-linejoin="bevel" stroke-linecap="round" stroke="#e5e5e5" />
<path d="M1520,502 L1904,886 2032,886 1648,502 1520,502 " fill="#e5e5e5" stroke-width="0" stroke-linejoin="bevel" stroke-linecap="round" stroke="#e5e5e5" />
<g transform="matrix(   1    0   -0    1 480 630)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-224" y="13">gap_counter</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 480 1030)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-254" y="0">Rx_data_valid</tspan>
</text></g>
<path d="M560,662 L1136,662 " fill="none" style="stroke-dasharray:4,4" stroke-width="2" stroke-linecap="butt" stroke-linejoin="bevel" stroke="#000000" />
<g transform="matrix( 1.3    0   -0  1.3 1152  38)" fill="#000000" >
<text stroke="none" font-family="Helvetica"  font-weight="bold" font-size="40" ><tspan x="-324" y="0">Potential precog upgrade concept</tspan>
</text></g>
<path d="M544,1094 L608,1094 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M832,1094 L896,1094 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<g transform="matrix(0.75    0   -0 0.75 712 1094)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-117" y="15">1 MTU Delay</tspan>
</text></g>
<path d="M884,1102 C894,1097 897,1097 912,1094 C897,1091 894,1091 884,1086 C886,1092 886,1096 884,1102 " fill="#000000" stroke="none" />
<path d="M556,1102 C546,1097 543,1097 528,1094 C543,1091 546,1091 556,1086 C554,1092 554,1096 556,1102 " fill="#000000" stroke="none" />
<g transform="matrix(   1    0   -0    1 480 966)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-466" y="0">Packet_will_get_response</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 832 966)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-15" y="0">N</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 1296 966)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-14" y="0">Y</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 768 630)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-210" y="15">request_len</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 608 262)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Lock in transmit schedule when (gap_counter > request_len) &amp; !Rx_data_valid</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 480 886)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-22" y="14">0</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 480 502)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-120" y="15">1 MTU</tspan>
</text></g>
<path d="M496,502 L2320,502 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#999999" />
<path d="M496,886 L2304,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#999999" />
<path d="M832,582 L912,502 " fill="none" stroke-width="6" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<path d="M912,886 L1136,662 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<path d="M528,1126 L912,1126 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#999999" />
<g transform="matrix(   1    0   -0    1 480 1126)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-310" y="0">Tx auto response</tspan>
</text></g>
<path d="M1008,1110 L1216,1110 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#666666" />
<g transform="matrix(   1    0   -0    1 1392 710)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-210" y="15">request_len</tspan>
</text></g>
<path d="M1184,742 L1824,742 " fill="none" style="stroke-dasharray:4,4" stroke-width="2" stroke-linecap="butt" stroke-linejoin="bevel" stroke="#000000" />
<path d="M1520,1030 L1520,982 1648,982 1648,1030 2304,1030 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M1440,742 L1680,502 " fill="none" stroke-width="6" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<g transform="matrix(   1    0   -0    1 1648 966)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-14" y="0">Y</tspan>
</text></g>
<path d="M1680,886 L1824,742 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<path d="M832,598 L832,926 " fill="none" style="stroke-dasharray:1,4" stroke-width="2" stroke-linecap="butt" stroke-linejoin="bevel" stroke="#000000" />
<path d="M528,790 L528,886 912,502 1296,502 1296,886 1680,502 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M1648,534 L1648,886 2032,502 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M2032,502 L2304,502 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M2080,774 L2192,774 " fill="none" style="stroke-dasharray:4,4" stroke-width="2" stroke-linecap="butt" stroke-linejoin="bevel" stroke="#000000" />
<g transform="matrix(   1    0   -0    1 2176 742)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-210" y="15">request_len</tspan>
</text></g>
<path d="M2080,886 L2192,774 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<g transform="matrix(0.75    0   -0 0.75 592 358)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Drawing ignores Inter-Frame-Gap (IFG)</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 608 310)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">gap_counter resets at end of Rx packets if Packet_will_get_response</tspan>
</text></g>
<path d="M528,982 L528,1030 624,1030 624,982 832,982 832,1030 1072,1030 1072,982 1296,982 1296,1030 1520,1030 1520,982 1648,982 1648,1030 2304,1030 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M912,1078 L912,1126 1008,1126 1008,1126 1216,1126 1216,1126 1456,1126 1456,1078 1680,1078 1680,1126 1904,1126 1904,1078 2032,1078 2032,1126 2304,1126 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<g transform="matrix(   1    0   -0    1 480 1206)" fill="#a52a2a" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-236" y="0">Tx from MAC</tspan>
</text></g>
<g transform="matrix(0.75    0   -0 0.75 592 438)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Use care moving Rx_data_valid and Packet_will_get_response from Rx to Tx clock domains</tspan>
</text></g>
<g transform="matrix( 0.8    0   -0  0.8 1008 1094)" fill="#666666" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Rx packet ignored</tspan>
</text></g>
<path d="M528,1222 L912,1222 912,1174 1136,1174 1136,1222 1680,1222 1680,1174 1824,1174 1824,1222 2080,1222 2080,1174 2192,1174 2192,1222 2304,1222 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M912,1174 L1136,1174 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<path d="M1680,1174 L1824,1174 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<path d="M2080,1174 L2192,1174 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<g transform="matrix(0.75    0   -0 0.75 592 398)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Precog works mostly in Tx clock domain</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 592 150)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">filled with packets that won't get a response.</tspan>
</text></g>
<g transform="matrix(   1    0   -0    1 592 102)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">Takes more advantage of lead time to allow Tx "on top" of Rx time slots</tspan>
</text></g>
<ellipse cx="592" cy="294" rx="8" ry="8" fill="#ff0000" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#ff0000" />
<ellipse cx="1296" cy="502" rx="8" ry="8" fill="#ff0000" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#ff0000" />
<ellipse cx="1648" cy="534" rx="8" ry="8" fill="#ff0000" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#ff0000" />
<ellipse cx="592" cy="246" rx="8" ry="8" fill="#2e8b57" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<ellipse cx="832" cy="582" rx="8" ry="8" fill="#2e8b57" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<ellipse cx="1440" cy="742" rx="8" ry="8" fill="#2e8b57" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<ellipse cx="2080" cy="502" rx="8" ry="8" fill="#2e8b57" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<ellipse cx="592" cy="198" rx="8" ry="8" fill="#a52a2a" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<ellipse cx="560" cy="662" rx="8" ry="8" fill="#a52a2a" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<g transform="matrix(   1    0   -0    1 608 214)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">MAC packet Tx request initiated</tspan>
</text></g>
<ellipse cx="1184" cy="742" rx="8" ry="8" fill="#a52a2a" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<ellipse cx="2080" cy="774" rx="8" ry="8" fill="#a52a2a" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<g transform="matrix( 0.8    0   -0  0.8  16 902)" fill="#999999" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">results from scanner.v</tspan>
</text></g>
<path d="M0,862 L0,1054 504,1054 504,926 400,926 352,862 0,862 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#999999" />
<path d="M240,630 L176,630 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#000000" />
<path d="M128,694 L176,694 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#2e8b57" />
<path d="M176,694 L224,694 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#a52a2a" />
<g transform="matrix(   1    0   -0    1 480 694)" fill="#000000" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="-241" y="15">write_counter</tspan>
</text></g>
<path d="M624,502 L1008,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<path d="M1072,502 L1456,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<path d="M1520,502 L1904,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<path d="M1184,1174 L1328,1174 " fill="none" stroke-width="4" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<g transform="matrix( 0.8    0   -0  0.8 1184 1158)" fill="#0000ff" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">available time slot missed</tspan>
</text></g>
<g transform="matrix( 0.8    0   -0  0.8 1184 1206)" fill="#0000ff" >
<text stroke="none" font-family="Helvetica" font-size="40" ><tspan x="0" y="0">by even this fancy logic</tspan>
</text></g>
<path d="M1296,502 L1680,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<path d="M1648,502 L2032,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
<path d="M832,502 L1216,886 " fill="none" stroke-width="2" stroke-linejoin="bevel" stroke-linecap="round" stroke="#0000ff" />
</g>
</svg>
